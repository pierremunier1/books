
{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %} 

<body>

{% block title %}
Books
{% endblock title %}


{% block header %}
<link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}"/>
<link href="{% static 'css/style.css' %}" rel="stylesheet">
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="{% static '/js/index.js' %}"></script>
<script src="{% static '/js/main.js' %}" defer></script>



<div class="container">
{% if user.is_authenticated %}
<a href="{% url "logout" %}"><i class="fas fa-sign-out-alt"></i></a></b><b> Logged as
{{ user.username }}
{% endif %}<div class="custom-control custom-switch">
  <input type="checkbox" class="custom-control-input" id="customSwitch1" onclick="myFunction()" check>
  <label class="custom-control-label" for="customSwitch1">Dark Mode</label>
</div>
<div class="row h-50 justify-content-center">
<div class="title_2"></div>
<h2 class="title">Books</h2>

</div>
</div>


<div class="container">
<div class="row h-50 justify-content-center">


<div class="container">
<div class="row h-50 justify-content-center">
<a href="{% url "login" %}"><i class="fas fa-user fa-3x icon-title"></i></a>
<div class="col-md-6 justify-content-center">
	<form class="input" id="usertext-form"  method='GET'>
		{% csrf_token %}
		<div class="input-group input-group">
			<input type="text" name="query" class="form-control" onkeydown=myFunc() id="submit" placeholder="Search a book,an author.." aria-describedby="search" autocomplete="off">
			<button class="btn btn-primary button_home" id="button_design" >Search</button>
			{% csrf_token %}
		</div>
	</form>
</div>

<a href="{% url "favorite" %}"><i class="fas fa-book fa-3x icon-title"></i></a>

</div>
</div>
</div>
	
<div class="container col-sd-8 text-left">
<div class="margin"></div>


	<div class="imessages-title"><div class="title_cat text-left" id="imessages-text">{{object.book_name}}</div></div>
	<div>
	<div style="display:flex">
					{% for tag in object.tags.all %}
					<a href="{% url 'tagged' tag.slug %}" class="mr-1 badge badge-info">#{{ tag }}</a>
					{% endfor %}
	</div>
	  {% if object %}
        <div class="row">
            <div class="col text-center">
                <form class="rate-form" action="" method="POST" id="{{object.id}}">
                    {% csrf_token %}
                    <button type="submit" class="fa fa-star fa-1x my-btn" id="first"></button>
                    <button type="submit" class="fa fa-star fa-1x my-btn" id="second"></button>
                  	<button type="submit" class="fa fa-star fa-1x my-btn" id="third"></button>
                    <button type="submit" class="fa fa-star fa-1x my-btn" id="fourth"></button>
                    <button type="submit" class="fa fa-star fa-1x my-btn" id="fifth"></button>
                </form>
                <br>
                <div id="confirm-box"></div>
            </div>
        </div>
    {% endif %}
	
        </div>
			<div class="imessages-description text-justify" id="imessages-description">
			<div class="picture-detail">
            <div><img class="picture_detail" src={{ object.picture_detail }}></img></a></div>{{object.description}}
			
			<div class="margin-mid"></div>

<!--Tag section-->

	<div class="container">

	<form method="POST">
                {% csrf_token %}
                <div class="form-group">
                    <label>Tags</label>
                    <input type="text" data-role="tagsinput" class="form-control" name="tags">
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
	</div>

<!--Comment section-->

			<form method="POST"> 
				{% csrf_token %} 
				{{comment_form.as_p}} 
				<input type="submit" name="comment" class="btn btn-warning">
			</form> 
			<div class="container text-center"> 
			
			<b>{{comments.count}} Comment{{comments|pluralize}}</b>
			<div class="col text-left">
			<div class="margin-mid"></div>

			{% for comment in comments %}
      		<div class="comment">
    		<a>{{ comment.content|capfirst}}</a></div>
			<div class="auth_comment">
			<b> By {{comment.user|capfirst}}</b> {{comment.timestamp}}
			<div class="margin-mid"></div>
			</div>
			{% endfor %}
			</div>
			
<!--End of comment section-->
		</div>
    

	</div>
	</div>
	</div>
</div>



<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
	function myFunc() {
		
    	$('#imessages-title').html('');
	
	}
</script>

     
</body>

<script>
	inputForm();
</script>

<script>
function myFunction() {
  var element = document.body;
  element.classList.toggle("dark-mode");
}
</script>

 <script>
    $("#post-form").submit(function(e){
        e.preventDefault();
        });</script>

{% endblock header %}

{% block content%}
 
{% endblock content%}

{% block social %}
{% endblock social%}
</body>
